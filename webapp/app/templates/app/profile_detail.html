<!DOCTYPE html>
{% load static %}
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Профиль</title>
    <link rel="stylesheet" href="{% static 'app/css/stylesMain.css' %}"> 
    <link rel="stylesheet" href="{% static 'app/css/stylesAccaunt.css' %}">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="{% static 'app/js/ScrolScript.js' %}"></script>
</head>
<body>
    <div id="content">
        <img src="{% static 'app/images/logo.png' %}" id="logo">

        <div id="con">
            
            <div class="profile-detail">
                <div class="profile-header">
                    {% if viewed_student.avatar %}
                        <img src="{{ viewed_student.avatar.url }}" width="110px" height="110px" id="imagePreview" class="profile-avatar">
                    {% else %}
                        {% if viewed_student.gender == 'male' %}
                            <img src="{% static 'app/images/male.png' %}" width="110px" height="110px" id="imagePreview" alt="Аватар" class="profile-avatar">
                        {% else %}
                            <img src="{% static 'app/images/female.png' %}" width="110px" height="110px" id="imagePreview" alt="Аватар" class="profile-avatar">
                        {% endif %}
                    {% endif %}
                    <div class="profile-info">
                        <div id="textNAIMPROF">{{ viewed_student.name }}</div>
                        <div id="textGODPROF">{{ viewed_student.birth_year }} лет</div>
                        <div id="textKORPROF">Корпус {{ viewed_student.campus }}</div>
                    </div>
                </div>

                <div id="profile-about">
                    <p class="textRED">О себе</p>
                    <textarea id="osebe" disabled>{{ viewed_student.about_me }}</textarea>
                </div>

                <div class="profile-interests">
                    <p class="textRED">Интересы</p>
                    <div class="interests-list">
                        {% for interest in viewed_student.interests.all %}
                            <span class="interest-tag">{{ interest.name }}</span>
                        {% endfor %}
                    </div>
                </div>

                <a href="{% url 'znakomstva' current_student.telegram_id %}" class="back-button">Закрыть</a>

                <div class="like-section">
                    <form method="post" action="{% url 'like_profile' current_student.telegram_id viewed_student.telegram_id %}">
                        {% csrf_token %}
                        <button type="submit" class="like-button {% if existing_like %}unlike{% endif %}">
                            <img src="{% static 'app/images/anketact.png' %}" alt="Лайк" class="like-icon"> 
                            {% if existing_like %}
                                Убрать лайк
                            {% else %}
                                Лайкнуть
                            {% endif %}
                        </button>
                    </form>
                </div>
            </div>
        </div>

        <!-- Нижнее меню -->
        <nav class="menu">
            <div id="inputMenu">
                <!-- Кнопка "Знакомства" -->
                <a href="{% url 'znakomstva' current_student.telegram_id %}"><img src="{% static 'app/images/anketact.png' %}" id="men" width="40px" alt="Знакомства"></a>
                <!-- Кнопка "Профиль" -->
                <a href="{% url 'profil' current_student.telegram_id %}"><img src="{% static 'app/images/prof.png' %}" id="men" alt="Профиль"></a>
                <!-- Кнопка "Уведомления" -->
                <a href="{% url 'notice' current_student.telegram_id %}"><img src="{% static 'app/images/uved.png' %}" id="men" alt="Уведомления"></a>
            </div>
        </nav>
    </div>
</body>
</html> 